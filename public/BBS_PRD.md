# BBS (Berg Balance Scale) AI ìë™ ë¶„ì„ ì‹œìŠ¤í…œ
# Product Requirements Document (PRD)

**ë²„ì „**: 1.6.0
**ì‘ì„±ì¼**: 2026-02-09
**ìƒíƒœ**: Production Ready

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ëª…
**BBS AI ìë™ ë¶„ì„ ì‹œìŠ¤í…œ** (Berg Balance Scale AI Analysis System)

### 1.2 ëª©ì 
Berg Balance Scale(BBS) ê²€ì‚¬ë¥¼ AI ê¸°ë°˜ ì˜ìƒ ë¶„ì„ìœ¼ë¡œ ìë™í™”í•˜ì—¬ í™˜ìì˜ ê· í˜• ëŠ¥ë ¥ì„ ê°ê´€ì ì´ê³  ì •í™•í•˜ê²Œ í‰ê°€í•˜ëŠ” ì‹œìŠ¤í…œ

### 1.3 ëŒ€ìƒ ì‚¬ìš©ì
| ì‚¬ìš©ì ìœ í˜• | ì‚¬ìš© ëª©ì  |
|-------------|----------|
| ë¬¼ë¦¬ì¹˜ë£Œì‚¬ | í™˜ì ê· í˜• ëŠ¥ë ¥ í‰ê°€ |
| ì¬í™œì˜í•™ê³¼ ì˜ë£Œì§„ | ì¬í™œ ì§„í–‰ ëª¨ë‹ˆí„°ë§ |
| ë…¸ì¸ ì¼€ì–´ ì‹œì„¤ ê´€ë¦¬ì | ë‚™ìƒ ìœ„í—˜ë„ í‰ê°€ |
| ì—°êµ¬ì› | ê· í˜• ëŠ¥ë ¥ ì—°êµ¬ ë°ì´í„° ìˆ˜ì§‘ |

### 1.4 ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|------|
| **Frontend** | React | 18.x | UI í”„ë ˆì„ì›Œí¬ |
| **Build Tool** | Vite | 7.x | ë¹Œë“œ ë° ê°œë°œ ì„œë²„ |
| **Styling** | Tailwind CSS | 3.x | ìŠ¤íƒ€ì¼ë§ |
| **AI/ML** | MediaPipe Pose | 0.5.x | 33ê°œ ê´€ì ˆ í¬ì¦ˆ ì¶”ì • |
| **ì˜ìƒì²˜ë¦¬** | HTML5 Canvas API | - | ì˜¤ë²„ë ˆì´ ë Œë”ë§ |
| **ìƒíƒœê´€ë¦¬** | React Hooks | - | useState, useRef, useCallback |

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BBS AI Analysis System                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Video Input    â”‚      â”‚   MediaPipe      â”‚      â”‚   Analysis     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚      â”‚   Pose           â”‚      â”‚   Engine       â”‚ â”‚
â”‚  â”‚  â”‚ì¸¡ë©´â”‚ â”‚ì •ë©´â”‚  â”‚â”€â”€â”€â”€â”€â–¶â”‚   Detection      â”‚â”€â”€â”€â”€â”€â–¶â”‚  (Per-Item)    â”‚ â”‚
â”‚  â”‚  â”‚ì˜ìƒâ”‚ â”‚ì˜ìƒâ”‚  â”‚      â”‚   33 Landmarks   â”‚      â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚          â”‚
â”‚                                                              â–¼          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Canvas Overlay System                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Skeleton   â”‚ â”‚ Joint      â”‚ â”‚ Item-      â”‚ â”‚ Status         â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Rendering  â”‚ â”‚ Angles     â”‚ â”‚ Specific   â”‚ â”‚ Panel          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚            â”‚ â”‚ Display    â”‚ â”‚ Overlay    â”‚ â”‚                â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚          â”‚
â”‚                                                              â–¼          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Scoring System                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Auto Score     â”‚ â”‚ Feedback       â”‚ â”‚ Result Report        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Calculation    â”‚ â”‚ Generation     â”‚ â”‚ (PDF Export)         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ (0-4 points)   â”‚ â”‚                â”‚ â”‚                      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 MediaPipe Pose ëœë“œë§ˆí¬ (33ê°œ)

```
                    0 (ì½”)
                      â”‚
            1 â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ 2
         (ì™¼ëˆˆ)       â”‚       (ì˜¤ë¥¸ëˆˆ)
                      â”‚
         3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 4
       (ì™¼ê·€)         â”‚          (ì˜¤ë¥¸ê·€)
                      â”‚
        11 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 12
      (ì™¼ì–´ê¹¨)        â”‚         (ì˜¤ë¥¸ì–´ê¹¨)
          â”‚           â”‚            â”‚
         13           â”‚           14
      (ì™¼íŒ”ê¿ˆì¹˜)      â”‚       (ì˜¤ë¥¸íŒ”ê¿ˆì¹˜)
          â”‚           â”‚            â”‚
         15           â”‚           16
       (ì™¼ì†ëª©)       â”‚        (ì˜¤ë¥¸ì†ëª©)
          â”‚           â”‚            â”‚
         19           â”‚           20
      (ì™¼ê²€ì§€ë)      â”‚       (ì˜¤ë¥¸ê²€ì§€ë)
                      â”‚
        23 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 24
      (ì™¼ì—‰ë©ì´)      â”‚        (ì˜¤ë¥¸ì—‰ë©ì´)
          â”‚           â”‚            â”‚
         25           â”‚           26
       (ì™¼ë¬´ë¦)       â”‚        (ì˜¤ë¥¸ë¬´ë¦)
          â”‚           â”‚            â”‚
         27           â”‚           28
       (ì™¼ë°œëª©)       â”‚        (ì˜¤ë¥¸ë°œëª©)
```

#### ì£¼ìš” ëœë“œë§ˆí¬ ì¸ë±ìŠ¤

| ì¸ë±ìŠ¤ | ì˜ë¬¸ëª… | í•œêµ­ì–´ | ë¶„ì„ ìš©ë„ |
|--------|--------|--------|----------|
| 11 | left_shoulder | ì™¼ìª½ ì–´ê¹¨ | ìƒì²´ ì •ë ¬, íŒ” ë¶„ì„ |
| 12 | right_shoulder | ì˜¤ë¥¸ìª½ ì–´ê¹¨ | ìƒì²´ ì •ë ¬, íŒ” ë¶„ì„ |
| 13 | left_elbow | ì™¼ìª½ íŒ”ê¿ˆì¹˜ | íŒ” ê°ë„ ë¶„ì„ |
| 14 | right_elbow | ì˜¤ë¥¸ìª½ íŒ”ê¿ˆì¹˜ | íŒ” ê°ë„ ë¶„ì„ |
| 15 | left_wrist | ì™¼ìª½ ì†ëª© | ì† ì‚¬ìš© ê°ì§€ |
| 16 | right_wrist | ì˜¤ë¥¸ìª½ ì†ëª© | ì† ì‚¬ìš© ê°ì§€ |
| 19 | left_index | ì™¼ìª½ ê²€ì§€ ë | ì†ë ìœ„ì¹˜ |
| 20 | right_index | ì˜¤ë¥¸ìª½ ê²€ì§€ ë | ì†ë ìœ„ì¹˜ |
| 23 | left_hip | ì™¼ìª½ ì—‰ë©ì´ | ì•‰ê¸°/ì„œê¸° ë¶„ì„ |
| 24 | right_hip | ì˜¤ë¥¸ìª½ ì—‰ë©ì´ | ì•‰ê¸°/ì„œê¸° ë¶„ì„ |
| 25 | left_knee | ì™¼ìª½ ë¬´ë¦ | ë¬´ë¦ ê°ë„ ë¶„ì„ |
| 26 | right_knee | ì˜¤ë¥¸ìª½ ë¬´ë¦ | ë¬´ë¦ ê°ë„ ë¶„ì„ |
| 27 | left_ankle | ì™¼ìª½ ë°œëª© | ì„œìˆê¸° íŒë‹¨ |
| 28 | right_ankle | ì˜¤ë¥¸ìª½ ë°œëª© | ì„œìˆê¸° íŒë‹¨ |

### 2.3 ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Video     â”‚     â”‚  MediaPipe  â”‚     â”‚  Analysis   â”‚     â”‚   Canvas    â”‚
â”‚   Frame     â”‚â”€â”€â”€â”€â–¶â”‚   Pose      â”‚â”€â”€â”€â”€â–¶â”‚   Function  â”‚â”€â”€â”€â”€â–¶â”‚   Render    â”‚
â”‚             â”‚     â”‚             â”‚     â”‚             â”‚     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                   â”‚                   â”‚
                           â–¼                   â–¼                   â–¼
                    33 Landmarks         Analysis Data        Visual Overlay
                    (x, y, z, vis)       (phase, score,       (skeleton,
                                         feedback)            info panel)
```

---

## 3. ì˜ìƒ ì…ë ¥ ì‹œìŠ¤í…œ

### 3.1 ë“€ì–¼ ì˜ìƒ ì§€ì›

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì˜ìƒ ì—…ë¡œë“œ í™”ë©´                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       ğŸ“ ì¸¡ë©´ ì˜ìƒ         â”‚          ğŸ‘¤ ì •ë©´ ì˜ìƒ               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚                 â”‚     â”‚     â”‚                 â”‚             â”‚
â”‚   â”‚    9:16 ì„¸ë¡œ    â”‚     â”‚     â”‚    9:16 ì„¸ë¡œ    â”‚             â”‚
â”‚   â”‚                 â”‚     â”‚     â”‚                 â”‚             â”‚
â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”‚             â”‚
â”‚   â”‚    â”‚ ìŠ¤ì¼ˆ  â”‚    â”‚     â”‚     â”‚    â”‚ ìŠ¤ì¼ˆ  â”‚    â”‚             â”‚
â”‚   â”‚    â”‚ ë ˆí†¤  â”‚    â”‚     â”‚     â”‚    â”‚ ë ˆí†¤  â”‚    â”‚             â”‚
â”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚             â”‚
â”‚   â”‚                 â”‚     â”‚     â”‚                 â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                           â”‚                                      â”‚
â”‚   âœ“ ê´€ì ˆ ê°ë„ ë¶„ì„        â”‚     âœ“ ê· í˜•/ì•ˆì •ì„± ë¶„ì„              â”‚
â”‚   âœ“ ìì„¸ íŒë‹¨             â”‚     âœ“ ì¢Œìš° ì›€ì§ì„ ê°ì§€              â”‚
â”‚   (ì•‰ìŒ/ì„œìˆìŒ)           â”‚     âœ“ ì•ë’¤ ì›€ì§ì„ ê°ì§€              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 AI ìë™ ì˜ìƒ íƒ€ì… ê°ì§€

```javascript
/**
 * ì˜ìƒì´ ì¸¡ë©´(side)ì¸ì§€ ì •ë©´(front)ì¸ì§€ ìë™ ê°ì§€
 *
 * ì›ë¦¬: ì–´ê¹¨/ì—‰ë©ì´ ì¢Œìš° Xì¢Œí‘œ ì°¨ì´ ë¶„ì„
 * - ì •ë©´: ì¢Œìš°ë¡œ í¼ì³ì ¸ ë³´ì„ (X ì°¨ì´ í¼)
 * - ì¸¡ë©´: ê²¹ì³ ë³´ì„ (X ì°¨ì´ ì‘ìŒ)
 */
function detectViewType(landmarks) {
  const leftShoulder = landmarks[11];
  const rightShoulder = landmarks[12];
  const leftHip = landmarks[23];
  const rightHip = landmarks[24];

  // ì¢Œìš° í¼ì¹¨ ì •ë„ ê³„ì‚°
  const shoulderSpread = Math.abs(leftShoulder.x - rightShoulder.x);
  const hipSpread = Math.abs(leftHip.x - rightHip.x);
  const avgSpread = (shoulderSpread + hipSpread) / 2;

  // íŒë³„ ê¸°ì¤€
  if (avgSpread > 0.15) return 'front';   // ì •ë©´: ì¢Œìš° í¼ì¹¨ í¼
  if (avgSpread < 0.10) return 'side';    // ì¸¡ë©´: ì¢Œìš° í¼ì¹¨ ì‘ìŒ
  return 'unknown';
}

// 30í”„ë ˆì„ ëˆ„ì  íˆ¬í‘œë¡œ ìµœì¢… ê²°ì •
detectionCountRef = {
  video1: { side: 0, front: 0 },
  video2: { side: 0, front: 0 }
};
```

### 3.3 ì˜ìƒ ì»¨íŠ¸ë¡¤ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… | UI ìš”ì†Œ |
|------|------|--------|
| ì¬ìƒ/ì¼ì‹œì •ì§€ | ê°œë³„ ì˜ìƒ ì œì–´ | ì›í˜• ë²„íŠ¼ (â–¶/â¸) |
| ì‹œê°„ íƒìƒ‰ | íŠ¹ì • ì‹œì  ì´ë™ | ìŠ¬ë¼ì´ë” |
| ì‹œê°„ í‘œì‹œ | í˜„ì¬/ì´ ì‹œê°„ | 00:00 / 00:00 |
| ì˜ìƒ ë³€ê²½ | ë‹¤ë¥¸ ì˜ìƒ ì—…ë¡œë“œ | "ë³€ê²½" ë²„íŠ¼ |

---

## 4. BBS ê²€ì‚¬ í•­ëª© ìƒì„¸ (14ê°œ)

### 4.1 í•­ëª© 1: ì•‰ì€ ìì„¸ì—ì„œ ì¼ì–´ì„œê¸° (Sitting to Standing)

#### 4.1.1 ê²€ì‚¬ ì„¤ëª…
ì˜ìì— ì•‰ì€ ìƒíƒœì—ì„œ ì†ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì¼ì–´ì„œê¸°

#### 4.1.2 AI ë¶„ì„ ìƒíƒœ ë¨¸ì‹ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ì•‰ìŒ ê°ì§€      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ waiting â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ sitting_confirmed â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                 ì¼ì–´ì„œê¸° ì‹œì‘
                                         â”‚
                                         â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  standing_up  â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                ì„œìˆìŒ í™•ì¸
                                       â”‚
                                       â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚   complete    â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1.3 ê°ì§€ ê¸°ì¤€

```javascript
// ì•‰ìŒ íŒë‹¨
const isSitting = avgKneeAngle >= 70 && avgKneeAngle <= 110;
// ë¬´ë¦ ê°ë„ê°€ 70Â°~110Â° ì‚¬ì´ë©´ ì•‰ì€ ìƒíƒœ

// ì„œìˆìŒ íŒë‹¨
const isStanding = avgKneeAngle > 160 && isBodyAligned;
// ë¬´ë¦ ê°ë„ > 160Â° + ì‹ ì²´ ìˆ˜ì§ ì •ë ¬

// ì† ì‚¬ìš© ê°ì§€
const usedHands = wristY > kneeY;  // ì†ëª©ì´ ë¬´ë¦ë³´ë‹¤ ì•„ë˜
```

#### 4.1.4 ìë™ ì ìˆ˜ ê³„ì‚°

| ì ìˆ˜ | ì¡°ê±´ | ê°ì§€ ë°©ë²• |
|------|------|----------|
| 4ì  | ì† ì‚¬ìš© ì—†ì´ ì•ˆì •ì ìœ¼ë¡œ ì¼ì–´ì„¬ | `usedHands === false && stable` |
| 3ì  | ë…ë¦½ì ìœ¼ë¡œ ì¼ì–´ì„œì§€ë§Œ ì† ì‚¬ìš© | `usedHands === true` |
| 2ì  | ì—¬ëŸ¬ ë²ˆ ì‹œë„ í›„ ì† ì‚¬ìš© | `attemptCount > 1 && usedHands` |
| 1ì  | ìµœì†Œí•œì˜ ë„ì›€ í•„ìš” | ìˆ˜ë™ í‰ê°€ |
| 0ì  | ì¤‘ë“±ë„ ì´ìƒ ë„ì›€ í•„ìš” | ìˆ˜ë™ í‰ê°€ |

#### 4.1.5 êµ¬í˜„ ì½”ë“œ ìœ„ì¹˜
- íŒŒì¼: `src/pages/tests/BBSTestPage.jsx`
- í•¨ìˆ˜: `handleItem1Analysis()`, `analyzeSitToStand()`
- ìƒíƒœ: `sitToStandState`, `sitToStandRef`
- ë¼ì¸: ~2100

---

### 4.2 í•­ëª© 2: ì¡ì§€ ì•Šê³  ì„œ ìˆê¸° (Standing Unsupported)

#### 4.2.1 ê²€ì‚¬ ì„¤ëª…
ì§€ì§€ëŒ€ ì—†ì´ 2ë¶„ê°„ ì„œ ìˆìœ¼ë©´ì„œ ì•ˆì •ì„± ìœ ì§€

#### 4.2.2 ë“€ì–¼ ì˜ìƒ ë¶„ì„ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í•­ëª© 2 ë¶„ì„ ì‹œìŠ¤í…œ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       ğŸ“ ì¸¡ë©´ ì˜ìƒ          â”‚         ğŸ‘¤ ì •ë©´ ì˜ìƒ            â”‚
â”‚                            â”‚                                â”‚
â”‚  âœ“ ë¬´ë¦ ê°ë„ ë¶„ì„          â”‚  âœ“ ì¢Œìš°(Lateral) ì›€ì§ì„        â”‚
â”‚  âœ“ ìˆ˜ì§ ì •ë ¬ í™•ì¸          â”‚  âœ“ ì•ë’¤(Front-Back) ì›€ì§ì„     â”‚
â”‚  âœ“ ì•‰ìŒ/ì„œìˆìŒ íŒë‹¨        â”‚  âœ“ ë¬´ê²Œì¤‘ì‹¬ ì´ë™ ì¶”ì           â”‚
â”‚                            â”‚                                â”‚
â”‚  handleItem2Analysis()     â”‚  analyzeItem2FrontStability()  â”‚
â”‚  viewType: 'side'          â”‚  viewType: 'front'             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Combined Score    â”‚
                    â”‚   & Feedback        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2.3 ì›€ì§ì„ ì¶”ì  ì‹œìŠ¤í…œ

```javascript
// ì •ë©´ ì˜ìƒ ì•ˆì •ì„± ë¶„ì„
movementHistoryRef = {
  positions: [],              // ìµœê·¼ 30í”„ë ˆì„ ìœ„ì¹˜ ê¸°ë¡
  maxHistory: 30,             // ì•½ 1ì´ˆ ë¶„ëŸ‰
  baselineBodySize: null,     // ê¸°ì¤€ ì‹ ì²´ í¬ê¸°
  baselineX: null,            // ê¸°ì¤€ X ìœ„ì¹˜
  totalLateralMovement: 0,    // ì¢Œìš° ì›€ì§ì„ ëˆ„ì 
  totalFrontBackMovement: 0,  // ì•ë’¤ ì›€ì§ì„ ëˆ„ì 
  unstableEvents: 0           // ë¶ˆì•ˆì • ì´ë²¤íŠ¸ íšŸìˆ˜
};

// í”„ë ˆì„ë³„ ì›€ì§ì„ ê³„ì‚°
const lateralMovement = Math.abs(currentX - previousX);
const frontBackMovement = Math.abs(currentBodySize - previousBodySize);
```

#### 4.2.4 ì•ˆì •ì„± ë“±ê¸‰

| ë“±ê¸‰ | ì¡°ê±´ | ìƒ‰ìƒ | ì„¤ëª… |
|------|------|------|------|
| excellent | ì›€ì§ì„ < 5 | ì´ˆë¡ | ë§¤ìš° ì•ˆì • |
| good | ì›€ì§ì„ < 15 | ì—°ì´ˆë¡ | ì•ˆì • |
| moderate | ì›€ì§ì„ < 30 | ë…¸ë‘ | ë³´í†µ |
| poor | ì›€ì§ì„ < 50 | ì£¼í™© | ë¶ˆì•ˆì • |
| very_poor | ì›€ì§ì„ >= 50 | ë¹¨ê°• | ë§¤ìš° ë¶ˆì•ˆì • |

#### 4.2.5 ì ìˆ˜ ê¸°ì¤€

| ì ìˆ˜ | ì¡°ê±´ |
|------|------|
| 4ì  | 2ë¶„ê°„ ì•ˆì „í•˜ê²Œ ì„œ ìˆì„ ìˆ˜ ìˆìŒ |
| 3ì  | ê°ë…í•˜ì— 2ë¶„ê°„ ì„œ ìˆì„ ìˆ˜ ìˆìŒ |
| 2ì  | 30ì´ˆê°„ ì§€ì§€ ì—†ì´ ì„œ ìˆì„ ìˆ˜ ìˆìŒ |
| 1ì  | ì„œ ìˆê¸° ìœ„í•´ ì—¬ëŸ¬ ë²ˆ ì‹œë„ í•„ìš” |
| 0ì  | ë„ì›€ ì—†ì´ 30ì´ˆ ì„œ ìˆì„ ìˆ˜ ì—†ìŒ |

#### 4.2.6 êµ¬í˜„ ì½”ë“œ ìœ„ì¹˜
- íŒŒì¼: `src/pages/tests/BBSTestPage.jsx`
- í•¨ìˆ˜: `handleItem2Analysis()`, `analyzeItem2FrontStability()`
- ìœ í‹¸: `src/utils/standingUnsupportedAnalysis.js`
- ìƒíƒœ: `standingState`, `movementHistoryRef`

---

### 4.3 í•­ëª© 4: ì„œì„œ ì•‰ê¸° (Standing to Sitting)

#### 4.3.1 ê²€ì‚¬ ì„¤ëª…
ì„œìˆëŠ” ìƒíƒœì—ì„œ ì˜ìì— ì•‰ê¸°. ì²œì²œíˆ ì œì–´í•˜ë©° ì•‰ëŠ”ì§€ vs í„¸ì© ì•‰ëŠ”ì§€ í‰ê°€

#### 4.3.2 AI ë¶„ì„ ìƒíƒœ ë¨¸ì‹ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ì„œìˆìŒ ê°ì§€     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ waiting â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ standing â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                     â”‚
                              ì•‰ê¸° ì‹œì‘ (ì—‰ë©ì´ í•˜ê°•)
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ descending  â”‚ â—€â”€â”€ ì†ë„ ì¸¡ì •
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                               ì°©ì„ ì™„ë£Œ
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  seated  â”‚ â”€â”€â–¶ ì ìˆ˜ ê³„ì‚°
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.3 ì•‰ê¸° ì†ë„ ë¶„ì„

```javascript
sittingAnalysisRef = {
  phase: 'waiting',           // í˜„ì¬ ë‹¨ê³„
  hipPositions: [],           // ì—‰ë©ì´ Y ìœ„ì¹˜ ê¸°ë¡
  descentVelocities: [],      // í•˜ê°• ì†ë„ ê¸°ë¡
  maxVelocity: 0,             // ìµœëŒ€ í•˜ê°• ì†ë„
  finalVelocity: 0,           // ì°©ì„ ìˆœê°„ ì†ë„
  isControlled: true,         // ì œì–´ëœ ì•‰ê¸° ì—¬ë¶€
  usedHands: false            // ì† ì‚¬ìš© ì—¬ë¶€
};

// ì†ë„ ê³„ì‚° (í”„ë ˆì„ë‹¹ Y ë³€í™”ëŸ‰)
const velocity = currentHipY - previousHipY;
descentVelocities.push(velocity);
```

#### 4.3.4 íŒë‹¨ ê¸°ì¤€

| êµ¬ë¶„ | ì¡°ê±´ | íŒì • |
|------|------|------|
| ì œì–´ëœ ì•‰ê¸° | maxVelocity < 0.015, finalVelocity < 0.008 | isControlled = true |
| í„¸ì© ì•‰ê¸° | maxVelocity >= 0.015 ë˜ëŠ” finalVelocity >= 0.008 | isControlled = false |
| ì† ì‚¬ìš© | ì†ëª© Y > ì—‰ë©ì´ Y (ì•‰ëŠ” ë™ì•ˆ) | usedHands = true |

#### 4.3.5 ìë™ ì ìˆ˜ ê³„ì‚°

| ì ìˆ˜ | ì¡°ê±´ | í”¼ë“œë°± |
|------|------|--------|
| 4ì  | ì œì–´ë¨ + ì† ë¯¸ì‚¬ìš© | "ì²œì²œíˆ ì˜ ì•‰ì•˜ìŠµë‹ˆë‹¤" |
| 3ì  | ì œì–´ë¨ + ì† ì‚¬ìš© | "ì†ì„ ì‚¬ìš©í–ˆì§€ë§Œ ì²œì²œíˆ ì•‰ìŒ" |
| 2ì  | ì•½ê°„ ë¹ ë¦„ | "ì¡°ê¸ˆ ë¹ ë¥´ê²Œ ì•‰ì•˜ìŠµë‹ˆë‹¤" |
| 1ì  | ì œì–´ ì•ˆë¨ (í„¸ì©) | "í„¸ì© ì•‰ì•˜ìŠµë‹ˆë‹¤" |
| 0ì  | ë„ì›€ í•„ìš” | ìˆ˜ë™ í‰ê°€ |

#### 4.3.6 êµ¬í˜„ ì½”ë“œ ìœ„ì¹˜
- íŒŒì¼: `src/pages/tests/BBSTestPage.jsx`
- í•¨ìˆ˜: `handleItem4Analysis()`
- ìƒíƒœ: `sittingAnalysisRef`, `sittingState`
- ë¼ì¸: ~870

---

### 4.4 í•­ëª© 9: ë°”ë‹¥ì˜ ë¬¼ê±´ ì§‘ê¸° (Pick Up Object)

#### 4.4.1 ê²€ì‚¬ ì„¤ëª…
ì„œìˆëŠ” ìƒíƒœì—ì„œ ë°”ë‹¥ì˜ ë¬¼ê±´(ë™ê·¸ë¼ë¯¸ë¡œ í‘œì‹œ) ì§‘ê¸°

#### 4.4.2 AI ë¶„ì„ ìƒíƒœ ë¨¸ì‹ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ waiting â”‚â”€â”€â”€ì„œìˆìŒ ê°ì§€â”€â”€â”€â”€â–¶â”‚ standing â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                    â”‚
                              ëª¸ êµ½íˆê¸° ì‹œì‘
                                    â”‚
                                    â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ bending  â”‚
                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                   â”‚
                          ì†ì´ ë°”ë‹¥ ê·¼ì²˜ì— ë„ë‹¬
                                   â”‚
                                   â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ reaching â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
               â”‚                                        â”‚
         ë¬¼ê±´ ì§‘ê¸° ì„±ê³µ                           ëª» ì§‘ê³  ì¼ì–´ì„¬
               â”‚                                        â”‚
               â–¼                                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ picked_up  â”‚                          â”‚ returning  â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                       â”‚
        ë‹¤ì‹œ ì¼ì–´ì„¬                              ì¼ì–´ì„œê¸° ì™„ë£Œ
              â”‚                                       â”‚
              â–¼                                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ complete â”‚ â”€â”€â–¶ 4ì                    â”‚ complete â”‚ â”€â”€â–¶ 1-2ì 
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.3 ê°ì§€ ê¸°ì¤€

```javascript
// ì„œìˆìŒ íŒë‹¨
const isStanding = avgKneeAngle > 150 && avgBendAngle > 150;

// êµ½í˜ íŒë‹¨ (í—ˆë¦¬ ë˜ëŠ” ë¬´ë¦)
const isBending = avgBendAngle < 120 || avgKneeAngle < 130;

// ì†ì´ ë°”ë‹¥ ê·¼ì²˜
const handNearFloor = handY > ankleY - 0.05;

// ì†ì´ ë°”ë‹¥ ë„ë‹¬
const handReachedFloor = handY > ankleY;

// ë¬¼ê±´ ì§‘ê¸° ì„±ê³µ (ì†ê³¼ ë¬¼ê±´ ê±°ë¦¬)
const distanceToObject = sqrt((handX - objectX)Â² + (handY - objectY)Â²);
const pickedUp = distanceToObject < 0.08;
```

#### 4.4.4 ì‹œê°ì  ì˜¤ë²„ë ˆì´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚ â”‚ ë¬¼ê±´ ì§‘ê¸° ê²€ì‚¬          â”‚                                  â”‚
â”‚ â”‚ ì„œìˆìŒ - ë¬¼ê±´ì„ ì§‘ìœ¼ì„¸ìš”â”‚                                  â”‚
â”‚ â”‚                         â”‚                                  â”‚
â”‚ â”‚ ì„œìˆìŒ: âœ“               â”‚                      4ì          â”‚
â”‚ â”‚ ë¬¼ê±´ì§‘ê¸°: âœ—             â”‚                                  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                              â”‚
â”‚                    â— (ì† ìœ„ì¹˜ - íŒŒë€ ì›)                     â”‚
â”‚                    :                                         â”‚
â”‚                    : (ì ì„  ì—°ê²°)                             â”‚
â”‚                    :                                         â”‚
â”‚                    â—¯ (ë¬¼ê±´ - ë¹¨ê°„/ì´ˆë¡ ì›)                   â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• (ë°”ë‹¥)            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.5 ìë™ ì ìˆ˜ ê³„ì‚°

| ì ìˆ˜ | ì¡°ê±´ | ê°ì§€ ë°©ë²• |
|------|------|----------|
| 4ì  | ì‰½ê³  ì•ˆì „í•˜ê²Œ ë¬¼ê±´ ì§‘ìŒ | `pickedUp && returnedToStand` |
| 3ì  | ê°ë…í•˜ì— ì§‘ìŒ | ìˆ˜ë™ í‰ê°€ |
| 2ì  | ëª» ì§‘ì§€ë§Œ ë¬¼ê±´ ê·¼ì²˜ ë„ë‹¬ | `!pickedUp && lowestHandDistance < 0.05` |
| 1ì  | ëª» ì§‘ê³  ë„ë‹¬ë„ ëª»í•¨ | `!pickedUp && lowestHandDistance >= 0.05` |
| 0ì  | ì‹œë„ ë¶ˆê°€ | ìˆ˜ë™ í‰ê°€ |

#### 4.4.6 êµ¬í˜„ ì½”ë“œ ìœ„ì¹˜
- íŒŒì¼: `src/pages/tests/BBSTestPage.jsx`
- í•¨ìˆ˜: `handleItem9Analysis()`, `drawItem9Overlay()`
- ìƒíƒœ: `pickUpRef`, `pickUpState`
- ë¼ì¸: ~1433

---

### 4.5 ë‚˜ë¨¸ì§€ í•­ëª© (ìˆ˜ë™ í‰ê°€)

| í•­ëª© | ì´ë¦„ | ì„¤ëª… | AI ì§€ì› |
|------|------|------|---------|
| 3 | ì¡ì§€ ì•Šê³  ì•‰ê¸° | ë“±ë°›ì´ ì—†ì´ ì•‰ê¸° | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 5 | ì´ë™í•˜ê¸° | ì•‰ì€ ì˜ì ê°„ ì´ë™ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 6 | ëˆˆ ê°ê³  ì„œ ìˆê¸° | 30ì´ˆê°„ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 7 | ë°œ ëª¨ìœ¼ê³  ì„œ ìˆê¸° | 1ë¶„ê°„ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 8 | íŒ” ë»—ì–´ ì•ìœ¼ë¡œ ë‚´ë°€ê¸° | íŒ” ë»—ê¸° ê±°ë¦¬ ì¸¡ì • | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 10 | ë’¤ ëŒì•„ë³´ê¸° | ì¢Œìš° ë’¤ëŒì•„ë³´ê¸° | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 11 | 360ë„ íšŒì „ | ì™„ì „ íšŒì „ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 12 | ë°œíŒ ì˜¬ë¦¬ê¸° | ë°œ êµëŒ€ë¡œ ì˜¬ë¦¬ê¸° | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 13 | ì¼ë ¬ë¡œ ì„œ ìˆê¸° | ë°œ ì•ë’¤ë¡œ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |
| 14 | í•œ ë°œë¡œ ì„œ ìˆê¸° | 10ì´ˆ ì´ìƒ | ê¸°ë³¸ ìŠ¤ì¼ˆë ˆí†¤ |

---

## 5. ì‹œê°í™” ì‹œìŠ¤í…œ

### 5.1 ìŠ¤ì¼ˆë ˆí†¤ ë Œë”ë§

```javascript
// ì—°ê²°ì„  ì •ì˜
const POSE_CONNECTIONS = [
  // ëª¸í†µ
  [11, 12],  // ì–´ê¹¨ ì—°ê²°
  [11, 23],  // ì™¼ìª½ ëª¸í†µ
  [12, 24],  // ì˜¤ë¥¸ìª½ ëª¸í†µ
  [23, 24],  // ì—‰ë©ì´ ì—°ê²°

  // ì™¼íŒ”
  [11, 13],  // ì–´ê¹¨-íŒ”ê¿ˆì¹˜
  [13, 15],  // íŒ”ê¿ˆì¹˜-ì†ëª©

  // ì˜¤ë¥¸íŒ”
  [12, 14],  // ì–´ê¹¨-íŒ”ê¿ˆì¹˜
  [14, 16],  // íŒ”ê¿ˆì¹˜-ì†ëª©

  // ì™¼ë‹¤ë¦¬
  [23, 25],  // ì—‰ë©ì´-ë¬´ë¦
  [25, 27],  // ë¬´ë¦-ë°œëª©

  // ì˜¤ë¥¸ë‹¤ë¦¬
  [24, 26],  // ì—‰ë©ì´-ë¬´ë¦
  [26, 28],  // ë¬´ë¦-ë°œëª©
];
```

### 5.2 ìƒ‰ìƒ ì½”ë”© ì‹œìŠ¤í…œ

| ìƒíƒœ | ìƒ‰ìƒ ì½”ë“œ | ìš©ë„ |
|------|----------|------|
| ì •ìƒ/ì„œìˆìŒ | `#10B981` (ì´ˆë¡) | ì•ˆì •ì ì¸ ìì„¸ |
| ì£¼ì˜/ì•‰ìŒ | `#EAB308` (ë…¸ë‘) | ê³¼ë„ ìƒíƒœ |
| ê²½ê³ /ë¶ˆì•ˆì • | `#EF4444` (ë¹¨ê°•) | ìœ„í—˜ ìƒíƒœ |
| ë¶„ì„ ì¤‘ | `#3B82F6` (íŒŒë‘) | ì²˜ë¦¬ ì¤‘ |
| ì„±ê³µ | `#10B981` (ì´ˆë¡) | ë™ì‘ ì™„ë£Œ |
| ì¸¡ë©´ ì˜ìƒ | `#10B981` (ì´ˆë¡) | íƒ€ì… í‘œì‹œ |
| ì •ë©´ ì˜ìƒ | `#8B5CF6` (ë³´ë¼) | íƒ€ì… í‘œì‹œ |

### 5.3 ê´€ì ˆ ê°ë„ í‘œì‹œ

```javascript
function drawBodyAngles(ctx, landmarks, width, height) {
  // ë¬´ë¦ ê°ë„ ê³„ì‚° (ì—‰ë©ì´-ë¬´ë¦-ë°œëª©)
  const leftKneeAngle = calculateAngle(leftHip, leftKnee, leftAnkle);
  const rightKneeAngle = calculateAngle(rightHip, rightKnee, rightAnkle);

  // í—ˆë¦¬ ê°ë„ ê³„ì‚° (ì–´ê¹¨-ì—‰ë©ì´-ë¬´ë¦)
  const leftBendAngle = calculateAngle(leftShoulder, leftHip, leftKnee);

  // í™”ë©´ì— í‘œì‹œ
  ctx.fillStyle = '#FFFFFF';
  ctx.font = 'bold 12px sans-serif';
  ctx.fillText(`${angle.toFixed(0)}Â°`, x, y);
}

function calculateAngle(p1, p2, p3) {
  // ì„¸ ì  ì‚¬ì´ì˜ ê°ë„ ê³„ì‚° (ë¼ë””ì•ˆ â†’ ë„)
  const radians = Math.atan2(p3.y - p2.y, p3.x - p2.x) -
                  Math.atan2(p1.y - p2.y, p1.x - p2.x);
  let angle = Math.abs(radians * 180 / Math.PI);
  if (angle > 180) angle = 360 - angle;
  return angle;
}
```

### 5.4 ìˆ˜ì§ ì •ë ¬ ë¶„ì„

```javascript
// ë°œëª©-ë¬´ë¦-ì—‰ë©ì´-ì–´ê¹¨ Xì¢Œí‘œ í¸ì°¨ ê³„ì‚°
function analyzeVerticalAlignment(landmarks) {
  const ankleX = (leftAnkle.x + rightAnkle.x) / 2;
  const kneeX = (leftKnee.x + rightKnee.x) / 2;
  const hipX = (leftHip.x + rightHip.x) / 2;
  const shoulderX = (leftShoulder.x + rightShoulder.x) / 2;

  // ê° êµ¬ê°„ í¸ì°¨
  const ankleToKnee = Math.abs(ankleX - kneeX) * 100;
  const kneeToHip = Math.abs(kneeX - hipX) * 100;
  const hipToShoulder = Math.abs(hipX - shoulderX) * 100;

  // ì´ ì •ë ¬ ì ìˆ˜ (ë‚®ì„ìˆ˜ë¡ ì¼ì)
  const alignmentScore = ankleToKnee + kneeToHip + hipToShoulder;

  // 15 ì´í•˜ë©´ ìˆ˜ì§ ì •ë ¬ë¨
  return alignmentScore < 15;
}
```

---

## 6. ì ìˆ˜ ë° ê²°ê³¼ ì‹œìŠ¤í…œ

### 6.1 BBS ì ìˆ˜ ì²´ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BBS ì ìˆ˜ ì²´ê³„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ì´ì : 0 ~ 56ì  (14ê°œ í•­ëª© Ã— ìµœëŒ€ 4ì )                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ìœ„í—˜ë„ ë¶„ë¥˜                                          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  45-56ì : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ì €ìœ„í—˜ (ì´ˆë¡)       â”‚   â”‚
â”‚  â”‚           ë…ë¦½ì  ë³´í–‰ ê°€ëŠ¥                           â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  35-44ì : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ ì¤‘ìœ„í—˜ (ë…¸ë‘)       â”‚   â”‚
â”‚  â”‚           ë³´í–‰ ë³´ì¡°ê¸°êµ¬ ê³ ë ¤                         â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  0-34ì :  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ ê³ ìœ„í—˜ (ë¹¨ê°•)       â”‚   â”‚
â”‚  â”‚           ë‚™ìƒ ìœ„í—˜ ë†’ìŒ, íœ ì²´ì–´ ê³ ë ¤                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ê²°ê³¼ í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BBS ê²€ì‚¬ ê²°ê³¼                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   â”‚  â”‚ ì´ì                            â”‚  â”‚
â”‚  â”‚    48 / 56        â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 85%   â”‚  â”‚
â”‚  â”‚                   â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚    ì €ìœ„í—˜         â”‚  â”‚ ë‚™ìƒ ìœ„í—˜ë„: ë‚®ìŒ              â”‚  â”‚
â”‚  â”‚    (Low Risk)     â”‚  â”‚                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ í•­ëª©ë³„ ì ìˆ˜                                          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  1. ì•‰ì€ ìì„¸ì—ì„œ ì¼ì–´ì„œê¸°    â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  2. ì¡ì§€ ì•Šê³  ì„œ ìˆê¸°         â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  3. ì¡ì§€ ì•Šê³  ì•‰ê¸°            â–ˆâ–ˆâ–ˆâ–‘  3ì               â”‚   â”‚
â”‚  â”‚  4. ì„œì„œ ì•‰ê¸°                 â–ˆâ–ˆâ–ˆâ–ˆ  4ì   ğŸ¤– AI       â”‚   â”‚
â”‚  â”‚  5. ì´ë™í•˜ê¸°                  â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  6. ëˆˆ ê°ê³  ì„œ ìˆê¸°           â–ˆâ–ˆâ–ˆâ–‘  3ì               â”‚   â”‚
â”‚  â”‚  7. ë°œ ëª¨ìœ¼ê³  ì„œ ìˆê¸°         â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  8. íŒ” ë»—ì–´ ì•ìœ¼ë¡œ ë‚´ë°€ê¸°     â–ˆâ–ˆâ–ˆâ–‘  3ì               â”‚   â”‚
â”‚  â”‚  9. ë°”ë‹¥ì˜ ë¬¼ê±´ ì§‘ê¸°          â–ˆâ–ˆâ–ˆâ–ˆ  4ì   ğŸ¤– AI       â”‚   â”‚
â”‚  â”‚  10. ë’¤ ëŒì•„ë³´ê¸°              â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  11. 360ë„ íšŒì „               â–ˆâ–ˆâ–ˆâ–‘  3ì               â”‚   â”‚
â”‚  â”‚  12. ë°œíŒ ì˜¬ë¦¬ê¸°              â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  13. ì¼ë ¬ë¡œ ì„œ ìˆê¸°           â–ˆâ–ˆâ–ˆâ–ˆ  4ì               â”‚   â”‚
â”‚  â”‚  14. í•œ ë°œë¡œ ì„œ ìˆê¸°          â–ˆâ–ˆâ–‘â–‘  2ì               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ’¡ AI ê¶Œì¥ì‚¬í•­                                       â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â€¢ í˜„ì¬ ê· í˜• ëŠ¥ë ¥ì´ ì–‘í˜¸í•©ë‹ˆë‹¤.                      â”‚   â”‚
â”‚  â”‚  â€¢ ê·œì¹™ì ì¸ ìš´ë™ì„ ìœ ì§€í•˜ì„¸ìš”.                       â”‚   â”‚
â”‚  â”‚  â€¢ ë‚™ìƒ ì˜ˆë°©ì„ ìœ„í•´ ê°€ì • í™˜ê²½ì„ ì ê²€í•˜ì„¸ìš”.          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PDF ì €ì¥  â”‚  â”‚  ë‹¤ì‹œí•˜ê¸°  â”‚  â”‚  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 PDF ë¦¬í¬íŠ¸ ìƒì„±

```javascript
function downloadPDF() {
  const content = {
    header: 'BBS (Berg Balance Scale) ê²€ì‚¬ ê²°ê³¼',
    date: new Date().toLocaleDateString('ko-KR'),
    time: new Date().toLocaleTimeString('ko-KR'),

    summary: {
      totalScore: 48,
      maxScore: 56,
      percentage: 85.7,
      riskLevel: 'ì €ìœ„í—˜'
    },

    items: [
      { id: 1, name: 'ì•‰ì€ ìì„¸ì—ì„œ ì¼ì–´ì„œê¸°', score: 4, aiAnalyzed: true },
      { id: 2, name: 'ì¡ì§€ ì•Šê³  ì„œ ìˆê¸°', score: 4, aiAnalyzed: true },
      // ... 14ê°œ í•­ëª©
    ],

    recommendations: [
      'í˜„ì¬ ê· í˜• ëŠ¥ë ¥ì´ ì–‘í˜¸í•©ë‹ˆë‹¤.',
      'ê·œì¹™ì ì¸ ìš´ë™ì„ ìœ ì§€í•˜ì„¸ìš”.',
      'ë‚™ìƒ ì˜ˆë°©ì„ ìœ„í•´ ê°€ì • í™˜ê²½ì„ ì ê²€í•˜ì„¸ìš”.'
    ]
  };

  generatePDF(content);
}
```

---

## 7. ìƒíƒœ ê´€ë¦¬ êµ¬ì¡°

### 7.1 ì£¼ìš” State

```javascript
// ===== ê²€ì‚¬ ì§„í–‰ ìƒíƒœ =====
const [currentItem, setCurrentItem] = useState(0);      // í˜„ì¬ í•­ëª© (0-13)
const [scores, setScores] = useState(Array(14).fill(null));  // ì ìˆ˜ ë°°ì—´
const [isAnalyzing, setIsAnalyzing] = useState(false);  // ë¶„ì„ ì¤‘ ì—¬ë¶€
const [showSetup, setShowSetup] = useState(true);       // ì„¤ì • í™”ë©´ í‘œì‹œ
const [cameraLoading, setCameraLoading] = useState(false);  // ë¡œë”© ìƒíƒœ

// ===== ì˜ìƒ ìƒíƒœ =====
const [sideVideoUrl, setSideVideoUrl] = useState(null);   // ì¸¡ë©´ ì˜ìƒ URL
const [frontVideoUrl, setFrontVideoUrl] = useState(null); // ì •ë©´ ì˜ìƒ URL
const [sideVideoProgress, setSideVideoProgress] = useState(0);   // ì§„í–‰ë¥ 
const [frontVideoProgress, setFrontVideoProgress] = useState(0);
const [sideVideoDuration, setSideVideoDuration] = useState(0);   // ì´ ì‹œê°„
const [frontVideoDuration, setFrontVideoDuration] = useState(0);
const [isSideVideoPaused, setIsSideVideoPaused] = useState(false);
const [isFrontVideoPaused, setIsFrontVideoPaused] = useState(false);

// ===== ì˜ìƒ íƒ€ì… ê°ì§€ =====
const [video1DetectedType, setVideo1DetectedType] = useState('unknown');
const [video2DetectedType, setVideo2DetectedType] = useState('unknown');

// ===== í•­ëª©ë³„ ë¶„ì„ ìƒíƒœ =====
const [sitToStandState, setSitToStandState] = useState({...});  // í•­ëª© 1
const [standingState, setStandingState] = useState({...});      // í•­ëª© 2
const [sittingState, setSittingState] = useState({...});        // í•­ëª© 4
const [pickUpState, setPickUpState] = useState({...});          // í•­ëª© 9
```

### 7.2 ì£¼ìš” Ref (ë¦¬ë Œë”ë§ ë°©ì§€)

```javascript
// ===== MediaPipe ê´€ë ¨ =====
const poseRef = useRef(null);           // Pose ì¸ìŠ¤í„´ìŠ¤
const sidePoseRef = useRef(null);       // ì¸¡ë©´ Pose
const frontPoseRef = useRef(null);      // ì •ë©´ Pose

// ===== ë¹„ë””ì˜¤/ìº”ë²„ìŠ¤ =====
const sideVideoRef = useRef(null);      // ì¸¡ë©´ ë¹„ë””ì˜¤ ì—˜ë¦¬ë¨¼íŠ¸
const frontVideoRef = useRef(null);     // ì •ë©´ ë¹„ë””ì˜¤ ì—˜ë¦¬ë¨¼íŠ¸
const sideCanvasRef = useRef(null);     // ì¸¡ë©´ ìº”ë²„ìŠ¤
const frontCanvasRef = useRef(null);    // ì •ë©´ ìº”ë²„ìŠ¤

// ===== ë¶„ì„ ë°ì´í„° =====
const sitToStandRef = useRef({...});        // í•­ëª© 1 ë¶„ì„
const movementHistoryRef = useRef({...});   // í•­ëª© 2 ì›€ì§ì„
const sittingAnalysisRef = useRef({...});   // í•­ëª© 4 ë¶„ì„
const pickUpRef = useRef({...});            // í•­ëª© 9 ë¶„ì„
const previousAnalysisRef = useRef(null);   // ì´ì „ í”„ë ˆì„ ë¶„ì„

// ===== ê°ì§€ ì¹´ìš´í„° =====
const detectionCountRef = useRef({
  video1: { side: 0, front: 0 },
  video2: { side: 0, front: 0 }
});
```

---

## 8. íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ tests/
â”‚       â””â”€â”€ BBSTestPage.jsx           # ë©”ì¸ BBS ê²€ì‚¬ í˜ì´ì§€ (~6000 lines)
â”‚                                      # - 14ê°œ í•­ëª© UI
â”‚                                      # - MediaPipe ì´ˆê¸°í™”
â”‚                                      # - ë¶„ì„ í•¨ìˆ˜ë“¤
â”‚                                      # - ìº”ë²„ìŠ¤ ë Œë”ë§
â”‚
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ bbsItems.js                   # 14ê°œ BBS í•­ëª© ì •ì˜
â”‚                                      # - í•­ëª© ì´ë¦„/ì„¤ëª…
â”‚                                      # - ì ìˆ˜ ê¸°ì¤€
â”‚                                      # - ê°ì§€ ì„¤ì •
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ poseAnalysis.js               # í¬ì¦ˆ ë¶„ì„ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚                                  # - calculateAngle()
â”‚   â”‚                                  # - drawConnections()
â”‚   â”‚                                  # - drawLandmarks()
â”‚   â”‚
â”‚   â”œâ”€â”€ sitToStandAnalysis.js         # ì•‰ê¸°-ì„œê¸° ë¶„ì„
â”‚   â”‚                                  # - analyzeSitToStand()
â”‚   â”‚                                  # - PostureState enum
â”‚   â”‚
â”‚   â””â”€â”€ standingUnsupportedAnalysis.js  # ì„œìˆê¸° ì•ˆì •ì„± ë¶„ì„
â”‚                                        # - calculateStandingScore()
â”‚                                        # - generateStandingReport()
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ Button.jsx                # ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Card.jsx                  # ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Badge.jsx                 # ë°°ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ProgressBar.jsx           # ì§„í–‰ë¥  ë°”
â”‚   â”‚   â””â”€â”€ Alert.jsx                 # ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ Header.jsx                # í—¤ë”
â”‚       â””â”€â”€ PageContainer.jsx         # í˜ì´ì§€ ì»¨í…Œì´ë„ˆ
â”‚
â””â”€â”€ hooks/
    â”œâ”€â”€ useNavigation.js              # ë„¤ë¹„ê²Œì´ì…˜ í›…
    â””â”€â”€ useTestHistory.js             # ê²€ì‚¬ ê¸°ë¡ í›…
```

---

## 9. ì£¼ìš” í•¨ìˆ˜ ë ˆí¼ëŸ°ìŠ¤

### 9.1 ë¶„ì„ í•¨ìˆ˜

| í•¨ìˆ˜ëª… | íŒŒì¼:ë¼ì¸ | ì„¤ëª… |
|--------|----------|------|
| `handleItem1Analysis` | BBSTestPage.jsx:~2100 | í•­ëª© 1 ì•‰ì•„ì„œ ì¼ì–´ì„œê¸° ë¶„ì„ |
| `handleItem2Analysis` | BBSTestPage.jsx:~1436 | í•­ëª© 2 ì„œìˆê¸° ë¶„ì„ (ì¸¡ë©´) |
| `analyzeItem2FrontStability` | BBSTestPage.jsx:~654 | í•­ëª© 2 ì•ˆì •ì„± ë¶„ì„ (ì •ë©´) |
| `handleItem4Analysis` | BBSTestPage.jsx:~870 | í•­ëª© 4 ì„œì„œ ì•‰ê¸° ë¶„ì„ |
| `handleItem9Analysis` | BBSTestPage.jsx:~1433 | í•­ëª© 9 ë¬¼ê±´ ì§‘ê¸° ë¶„ì„ |
| `handleGeneralAnalysis` | BBSTestPage.jsx:~2200 | ì¼ë°˜ í•­ëª© ë¶„ì„ |
| `detectViewType` | BBSTestPage.jsx:~2627 | ì¸¡ë©´/ì •ë©´ ìë™ ê°ì§€ |

### 9.2 ê·¸ë¦¬ê¸° í•¨ìˆ˜

| í•¨ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `drawConnections` | ìŠ¤ì¼ˆë ˆí†¤ ì—°ê²°ì„  ê·¸ë¦¬ê¸° |
| `drawLandmarks` | ê´€ì ˆì  ê·¸ë¦¬ê¸° |
| `drawBodyAngles` | ì‹ ì²´ ê°ë„ í‘œì‹œ |
| `drawItem9Overlay` | í•­ëª© 9 ë¬¼ê±´/ì† ì˜¤ë²„ë ˆì´ |
| `drawAngleInfo` | ê°ë„ ì •ë³´ íŒ¨ë„ |

### 9.3 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

| í•¨ìˆ˜ëª… | íŒŒì¼ | ì„¤ëª… |
|--------|------|------|
| `calculateAngle` | poseAnalysis.js | ì„¸ ì  ì‚¬ì´ ê°ë„ ê³„ì‚° |
| `analyzeSitToStand` | sitToStandAnalysis.js | ì•‰ê¸°-ì„œê¸° ìƒíƒœ ë¶„ì„ |
| `calculateStandingScore` | standingUnsupportedAnalysis.js | ì„œìˆê¸° ì ìˆ˜ ê³„ì‚° |
| `generateStandingReport` | standingUnsupportedAnalysis.js | ì„œìˆê¸° ë¦¬í¬íŠ¸ ìƒì„± |

### 9.4 ë¦¬ì…‹ í•¨ìˆ˜

| í•¨ìˆ˜ëª… | ìš©ë„ |
|--------|------|
| `resetStandingAnalysis` | ì„œìˆê¸° ë¶„ì„ ì´ˆê¸°í™” |
| `resetMovementHistory` | ì›€ì§ì„ ê¸°ë¡ ì´ˆê¸°í™” |
| `resetSittingAnalysis` | ì•‰ê¸° ë¶„ì„ ì´ˆê¸°í™” |
| `resetPickUpAnalysis` | ë¬¼ê±´ ì§‘ê¸° ë¶„ì„ ì´ˆê¸°í™” |
| `resetStateHistory` | ìƒíƒœ ê¸°ë¡ ì´ˆê¸°í™” |

---

## 10. ì„¤ì¹˜ ë° ì‹¤í–‰

### 10.1 ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd TUG
npm install
```

### 10.2 ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
# http://localhost:5173
```

### 10.3 í”„ë¡œë•ì…˜ ë¹Œë“œ

```bash
npm run build
# dist/ í´ë”ì— ë¹Œë“œ ê²°ê³¼ë¬¼ ìƒì„±
```

### 10.4 ì£¼ìš” ì˜ì¡´ì„±

```json
{
  "dependencies": {
    "react": "^18.x",
    "react-dom": "^18.x",
    "@mediapipe/pose": "^0.5.x",
    "@mediapipe/camera_utils": "^0.3.x",
    "@mediapipe/drawing_utils": "^0.3.x"
  },
  "devDependencies": {
    "vite": "^7.x",
    "tailwindcss": "^3.x"
  }
}
```

---

## 11. ë²„ì „ íˆìŠ¤í† ë¦¬

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|------|----------|
| 1.0.0 | 2024-01 | ì´ˆê¸° ë²„ì „ - ê¸°ë³¸ BBS ê²€ì‚¬ UI |
| 1.1.0 | 2024-02 | MediaPipe Pose í†µí•© |
| 1.2.0 | 2024-02 | í•­ëª© 1, 2 AI ë¶„ì„ ì¶”ê°€ |
| 1.3.0 | 2024-02 | ë“€ì–¼ ì˜ìƒ ì§€ì› (ì¸¡ë©´/ì •ë©´) |
| 1.4.0 | 2024-02 | í•­ëª© 2 ì›€ì§ì„ ê°ì§€ ê°œì„  (ì¢Œìš°/ì•ë’¤) |
| 1.5.0 | 2024-02 | í•­ëª© 4 ì„œì„œ ì•‰ê¸° ë¶„ì„ ì¶”ê°€ (ì œì–´/í„¸ì© ê°ì§€) |
| 1.6.0 | 2024-02 | í•­ëª© 9 ë°”ë‹¥ ë¬¼ê±´ ì§‘ê¸° ë¶„ì„ ì¶”ê°€ |

---

## 12. í–¥í›„ ê°œì„  ê³„íš

### 12.1 AI ë¶„ì„ í™•ëŒ€

| ìš°ì„ ìˆœìœ„ | í•­ëª© | ì„¤ëª… |
|----------|------|------|
| ë†’ìŒ | í•­ëª© 6 | ëˆˆ ê°ê³  ì„œ ìˆê¸° - ì•ˆì •ì„± ë¶„ì„ |
| ë†’ìŒ | í•­ëª© 7 | ë°œ ëª¨ìœ¼ê³  ì„œ ìˆê¸° - ìì„¸ ë¶„ì„ |
| ì¤‘ê°„ | í•­ëª© 10 | ë’¤ ëŒì•„ë³´ê¸° - íšŒì „ ê°ë„ ì¸¡ì • |
| ì¤‘ê°„ | í•­ëª© 11 | 360ë„ íšŒì „ - íšŒì „ ì™„ë£Œ ê°ì§€ |
| ì¤‘ê°„ | í•­ëª© 14 | í•œ ë°œë¡œ ì„œ ìˆê¸° - ì‹œê°„ ì¸¡ì • |

### 12.2 ê¸°ëŠ¥ ê°œì„ 

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì‹¤ì‹œê°„ ìŒì„± í”¼ë“œë°± | TTSë¡œ ê²€ì‚¬ ì•ˆë‚´ |
| ë‹¤ì¤‘ í™˜ì ê´€ë¦¬ | í™˜ìë³„ ê¸°ë¡ ì €ì¥ |
| ê²€ì‚¬ ì´ë ¥ ëŒ€ì‹œë³´ë“œ | ì‹œê°„ë³„ ë³€í™” ì°¨íŠ¸ |
| ì˜ìƒ ë…¹í™” | ê²€ì‚¬ ì˜ìƒ ìë™ ì €ì¥ |
| í´ë¼ìš°ë“œ ë™ê¸°í™” | ë°ì´í„° ë°±ì—… ë° ê³µìœ  |

### 12.3 ì •í™•ë„ ê°œì„ 

| ê°œì„  ì‚¬í•­ | ë°©ë²• |
|----------|------|
| ë‹¤ì–‘í•œ ì²´í˜• ì§€ì› | ì²´í˜•ë³„ ê¸°ì¤€ê°’ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ |
| ì¡°ëª… ë³´ì • | ì €ì¡°ë„ í™˜ê²½ ëŒ€ì‘ |
| ì¹´ë©”ë¼ ê°ë„ ë³´ì • | ìë™ ì‹œì  ë³´ì • |
| ë…¸ì´ì¦ˆ í•„í„°ë§ | ë–¨ë¦¼/ì¡ìŒ ì œê±° |

---

## 13. ì°¸ê³  ìë£Œ

### 13.1 ì˜í•™ì  ê¸°ì¤€
- Berg K, et al. "Measuring balance in the elderly: preliminary development of an instrument." Physiotherapy Canada. 1989;41(6):304-311.
- Shumway-Cook A, et al. "Predicting the probability for falls in community-dwelling older adults." Physical Therapy. 2000;80(9):896-903.

### 13.2 ê¸°ìˆ  ë¬¸ì„œ
- [MediaPipe Pose](https://developers.google.com/mediapipe/solutions/vision/pose_landmarker)
- [React Documentation](https://react.dev/)
- [Vite Documentation](https://vitejs.dev/)
- [Tailwind CSS](https://tailwindcss.com/)

---

*ë¬¸ì„œ ì‘ì„±ì¼: 2026-02-09*
*ë¬¸ì„œ ë²„ì „: 1.6.0*
*í”„ë¡œì íŠ¸: BBS AI Analysis System*
